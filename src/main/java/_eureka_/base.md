

#eureka

    分布式服务的注册中心
    
##为什么会有 注册中心？
    
    普通服务：
        服务之间调用 就i是直接调用嘛！
        问题：
        服务多了 port多了，造成迁移困难，维护困难。
        
        解决1、
            维护一个注册表 维护 服务信息
            问题：
            服务水平扩容问题，某服务宕机怎么办？
            不能动态的去感知服务状态
        解决2、
            nginx 的负载均衡。
            使用nginx 去维护服务
            问题：
            配置。。
            大量配置 ，， 又需要对配置进行维护        
            
        解决3、
            注册中心
            
## 注册中心

    注册中心（储存注册信息 (数据库中)） 《为什么不用map？ map是基于JVM 的 服务是跨平台的呐》
    
    注册接口    服务启动时 insert
    服务获取接口 调用服务前 去中心 select 拿到服务
    取消接口    服务下线 （感知，心跳包）
    
    
    每次 都从注册中心取服务嘛？
    要是注册中心挂掉了呢？
    
    解决：
    在服务中缓存起来
    将服务缓存到map
    
    每隔一段时间 再去注册中心拉去服务
    避免 之后注册的服务 拉取不到
    
### 要点 ：动态感知

    怎么取感知服务是否存活?
    心跳包
    发送心跳包检测服务是否存活
    比如ping
    
    
## eureka
    
    eureka 是将服务 储存在 内存中的。
    服务之间 通过服务名 可以得到服务信息
    
    
    集群 之间有一个 同步的接口
    注册中心与服务之间有契约这样的接口 
    去监听 服务 
    契约
        就是 跟 服务之间 发生心跳
        超时没有心跳 就进入 维护
        不直接剔除，进入保护
        使用定时任务
        完成 续约
             注册
           续约 有 全量 更新 和增量更新
    
    
    
    
   
    
     
    
    
    